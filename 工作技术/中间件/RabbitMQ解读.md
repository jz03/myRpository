## 1.mq的优点和缺点

### 1.1.优点

- **异步处理**
- **应用解耦**
- **流量削峰**
- 日志处理
- 消息通讯

### 1.2.缺点

- 系统的复杂度变高
- 一致性问题
- 消息的顺序

保证生产者 - MQServer - 消费者是一对一对一的关系

- 消息的重复

造成消息重复的根本原因是：网络不可达。

消费端处理消息的业务逻辑保持幂等性。只要保持幂等性，不管来多少条重复消息，最后处理的结果都一样。

### 1.3.问题解决

- 如果队列中的消息被错误的对象消费掉，该如何处理。可以用rabbitMQ的ack机制，进行手动应答，把收到的消息信息发送给队列，队列因此进行删除操作。

### 1.4.交换器

- fanout：如果交换器收到消息，将会广播到所有绑定的队列上
- direct：如果路由键完全匹配，消息就被投递到相应的队列
- topic：可以使来自不同源头的消息能够到达同一个队列。 使用 topic 交换器时，可以使用通配符





