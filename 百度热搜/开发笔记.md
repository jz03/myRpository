# 百度热搜

## 0.想法

获取当前的热搜信息，存下来下，可以把历史上的热搜进行分析对比，找出自己需要的信息，达到能够预测未来热搜的趋势。

可以对当前热搜内容进行归类分析。

可以获取一条信息热度曲线，分析出相关联的信息，找出主要的信息点。

## 1.需求

- [100%] 热搜的前30位
- [100%] 定时任务：每隔一个小时抓取一次
- [100%] 抓取的信息存放在数据库中
- [100%] 能够实现在桌面直接启动
- [0%] 需要编写前端页面，方便查看信息
- [0%] 可视化数据信息，辅助分析

### 1.1.关键字

- baidu-hot-search

- baiduHotSearch

- HotSearchInfo
- hot_search_info

- hot_branch
- hot_info

## 2.进度

- [100%] [功能实现] 实现了数据的解析
- [100%] [功能实现] 将解析的数据可以插入数据库
- [100%] [功能实现] 实现定时任务
- [70%] 创建启动程序的快捷方式（完成了启动，但是显示不够友好）  
- [20%] 需要了解cmd脚本命令
- [100%] [实现改进] 需要改进数据库表结构，需要把hot_search_info拆为两张表，防止数据大量的重复
获取到的热点信息入库的业务逻辑
每次添加入库的时候，hot_branch都要添加
添加的时候需要判断hot_info中是否有相应的信息，如果没有则进行添加，如果存在，需要做一下对比，是否有信息更新。
首先更新插入hot_info(上热搜的信息)表，然后是hot_branch（每次抓取的信息）表的操作

## 3.关键技术

### 3.1.框架
- 工程管理 maven
- spring-boot
- 数据库访问 mybatis
- 解析html文件 jsoup

### 3.2.请求分析工具
- http接口访问 postman

## 4.问题

### 4.1.数据库表编码

创建表和字段的时候没有注意编码和字符集，否则在写入数据库的时候就会出现编码问题
将编码和字符集都设置为utf-8，字符集设置为utf8_general_ci
同时在连接url中也进行编码的设置

### 4.2.一张hot_search_info表出现的问题

- 出现了大量的重复信息
- 无法获取到哪些是新增的，哪些退出热搜的，哪些是上升的，哪些是下降的，哪些是高光时刻
